/* to consult the database and predicate files: */
consult("database.pl").
consult("predicates.pl").

/* find all pairs of nth cousins k times removed: */
nthcousinkremoved(X,Y,N,K).

/* results of this query: */
X = susan,
Y = mary,
N = 1,
K = 0 ;
X = susan,
Y = phyllis,
N = 1,
K = 0 ;
X = mary,
Y = susan,
N = 1,
K = 0 ;
X = phyllis,
Y = susan,
N = 1,
K = 0 ;
X = curt,
Y = john,
N = 1,
K = 0 ;
X = sharon,
Y = john,
N = 1,
K = 0 ;
X = mike,
Y = john,
N = 1,
K = 0 ;
X = jan,
Y = john,
N = 1,
K = 0 ;
X = john,
Y = curt,
N = 1,
K = 0 ;
X = john,
Y = sharon,
N = 1,
K = 0 ;
X = john,
Y = mike,
N = 1,
K = 0 ;
X = john,
Y = jan,
N = 1,
K = 0 ;
X = jenna,
Y = luke,
N = 1,
K = 0 ;
X = jenna,
Y = ali,
N = 1,
K = 0 ;
X = jenna,
Y = kelsey,
N = 1,
K = 0 ;
X = jenna,
Y = brandon,
N = 1,
K = 0 ;
X = jenna,
Y = jarrod,
N = 1,
K = 0 ;
X = jessie,
Y = luke,
N = 1,
K = 0 ;
X = jessie,
Y = ali,
N = 1,
K = 0 ;
X = jessie,
Y = kelsey,
N = 1,
K = 0 ;
X = jessie,
Y = brandon,
N = 1,
K = 0 ;
X = jessie,
Y = jarrod,
N = 1,
K = 0 ;
X = nathan,
Y = luke,
N = 1,
K = 0 ;
X = nathan,
Y = ali,
N = 1,
K = 0 ;
X = nathan,
Y = kelsey,
N = 1,
K = 0 ;
X = nathan,
Y = brandon,
N = 1,
K = 0 ;
X = nathan,
Y = jarrod,
N = 1,
K = 0 ;
X = nick,
Y = luke,
N = 1,
K = 0 ;
X = nick,
Y = ali,
N = 1,
K = 0 ;
X = nick,
Y = kelsey,
N = 1,
K = 0 ;
X = nick,
Y = brandon,
N = 1,
K = 0 ;
X = nick,
Y = jarrod,
N = 1,
K = 0 ;
X = luke,
Y = jenna,
N = 1,
K = 0 ;
X = luke,
Y = jessie,
N = 1,
K = 0 ;
X = luke,
Y = nathan,
N = 1,
K = 0 ;
X = luke,
Y = nick,
N = 1,
K = 0 ;
X = luke,
Y = ali,
N = 1,
K = 0 ;
X = luke,
Y = kelsey,
N = 1,
K = 0 ;
X = luke,
Y = brandon,
N = 1,
K = 0 ;
X = luke,
Y = jarrod,
N = 1,
K = 0 ;
X = ali,
Y = jenna,
N = 1,
K = 0 ;
X = ali,
Y = jessie,
N = 1,
K = 0 ;
X = ali,
Y = nathan,
N = 1,
K = 0 ;
X = ali,
Y = nick,
N = 1,
K = 0 ;
X = ali,
Y = luke,
N = 1,
K = 0 ;
X = ali,
Y = brandon,
N = 1,
K = 0 ;
X = ali,
Y = jarrod,
N = 1,
K = 0 ;
X = kelsey,
Y = jenna,
N = 1,
K = 0 ;
X = kelsey,
Y = jessie,
N = 1,
K = 0 ;
X = kelsey,
Y = nathan,
N = 1,
K = 0 ;
X = kelsey,
Y = nick,
N = 1,
K = 0 ;
X = kelsey,
Y = luke,
N = 1,
K = 0 ;
X = kelsey,
Y = brandon,
N = 1,
K = 0 ;
X = kelsey,
Y = jarrod,
N = 1,
K = 0 ;
X = brandon,
Y = jenna,
N = 1,
K = 0 ;
X = brandon,
Y = jessie,
N = 1,
K = 0 ;
X = brandon,
Y = nathan,
N = 1,
K = 0 ;
X = brandon,
Y = nick,
N = 1,
K = 0 ;
X = brandon,
Y = luke,
N = 1,
K = 0 ;
X = brandon,
Y = ali,
N = 1,
K = 0 ;
X = brandon,
Y = kelsey,
N = 1,
K = 0 ;
X = jarrod,
Y = jenna,
N = 1,
K = 0 ;
X = jarrod,
Y = jessie,
N = 1,
K = 0 ;
X = jarrod,
Y = nathan,
N = 1,
K = 0 ;
X = jarrod,
Y = nick,
N = 1,
K = 0 ;
X = jarrod,
Y = luke,
N = 1,
K = 0 ;
X = jarrod,
Y = ali,
N = 1,
K = 0 ;
X = jarrod,
Y = kelsey,
N = 1,
K = 0 ;
X = josh,
Y = curt,
N = 2,
K = 0 ;
X = josh,
Y = sharon,
N = 2,
K = 0 ;
X = josh,
Y = mike,
N = 2,
K = 0 ;
X = josh,
Y = jan,
N = 2,
K = 0 ;
X = josh,
Y = john,
N = 2,
K = 0 ;
X = curt,
Y = josh,
N = 2,
K = 0 ;
X = sharon,
Y = josh,
N = 2,
K = 0 ;
X = mike,
Y = josh,
N = 2,
K = 0 ;
X = jan,
Y = josh,
N = 2,
K = 0 ;
X = john,
Y = josh,
N = 2,
K = 0 ;
X = jacob,
Y = jenna,
N = 3,
K = 0 ;
X = jacob,
Y = jessie,
N = 3,
K = 0 ;
X = jacob,
Y = nathan,
N = 3,
K = 0 ;
X = jacob,
Y = nick,
N = 3,
K = 0 ;
X = jacob,
Y = luke,
N = 3,
K = 0 ;
X = jacob,
Y = ali,
N = 3,
K = 0 ;
X = jacob,
Y = kelsey,
N = 3,
K = 0 ;
X = jacob,
Y = brandon,
N = 3,
K = 0 ;
X = jacob,
Y = jarrod,
N = 3,
K = 0 ;
X = jacob,
Y = jonny,
N = 3,
K = 0 ;
X = jenna,
Y = jacob,
N = 3,
K = 0 ;
X = jenna,
Y = jonny,
N = 2,
K = 0 ;
X = jessie,
Y = jacob,
N = 3,
K = 0 ;
X = jessie,
Y = jonny,
N = 2,
K = 0 ;
X = nathan,
Y = jacob,
N = 3,
K = 0 ;
X = nathan,
Y = jonny,
N = 2,
K = 0 ;
X = nick,
Y = jacob,
N = 3,
K = 0 ;
X = nick,
Y = jonny,
N = 2,
K = 0 ;
X = luke,
Y = jacob,
N = 3,
K = 0 ;
X = luke,
Y = jonny,
N = 2,
K = 0 ;
X = ali,
Y = jacob,
N = 3,
K = 0 ;
X = ali,
Y = jonny,
N = 2,
K = 0 ;
X = kelsey,
Y = jacob,
N = 3,
K = 0 ;
X = kelsey,
Y = jonny,
N = 2,
K = 0 ;
X = brandon,
Y = jacob,
N = 3,
K = 0 ;
X = brandon,
Y = jonny,
N = 2,
K = 0 ;
X = jarrod,
Y = jacob,
N = 3,
K = 0 ;
X = jarrod,
Y = jonny,
N = 2,
K = 0 ;
X = jonny,
Y = jacob,
N = 3,
K = 0 ;
X = jonny,
Y = jenna,
N = 2,
K = 0 ;
X = jonny,
Y = jessie,
N = 2,
K = 0 ;
X = jonny,
Y = nathan,
N = 2,
K = 0 ;
X = jonny,
Y = nick,
N = 2,
K = 0 ;
X = jonny,
Y = luke,
N = 2,
K = 0 ;
X = jonny,
Y = ali,
N = 2,
K = 0 ;
X = jonny,
Y = kelsey,
N = 2,
K = 0 ;
X = jonny,
Y = brandon,
N = 2,
K = 0 ;
X = jonny,
Y = jarrod,
N = 2,
K = 0 ;
X = mary,
Y = josh,
N = K, K = 1 ;
X = phyllis,
Y = josh,
N = K, K = 1 ;
X = susan,
Y = curt,
N = K, K = 1 ;
X = susan,
Y = sharon,
N = K, K = 1 ;
X = susan,
Y = mike,
N = K, K = 1 ;
X = susan,
Y = jan,
N = K, K = 1 ;
X = susan,
Y = john,
N = K, K = 1 ;
X = curt,
Y = jacob,
N = 2,
K = 1 ;
X = sharon,
Y = jacob,
N = 2,
K = 1 ;
X = mike,
Y = jacob,
N = 2,
K = 1 ;
X = jan,
Y = jacob,
N = 2,
K = 1 ;
X = john,
Y = jacob,
N = 2,
K = 1 ;
X = mary,
Y = jacob,
N = 1,
K = 2 ;
X = phyllis,
Y = jacob,
N = 1,
K = 2 ;
X = john,
Y = jenna,
N = K, K = 1 ;
X = josh,
Y = jenna,
N = 2,
K = 1 ;
X = susan,
Y = jenna,
N = 1,
K = 2 ;
X = john,
Y = jessie,
N = K, K = 1 ;
X = josh,
Y = jessie,
N = 2,
K = 1 ;
X = susan,
Y = jessie,
N = 1,
K = 2 ;
X = john,
Y = nathan,
N = K, K = 1 ;
X = josh,
Y = nathan,
N = 2,
K = 1 ;
X = susan,
Y = nathan,
N = 1,
K = 2 ;
X = john,
Y = nick,
N = K, K = 1 ;
X = josh,
Y = nick,
N = 2,
K = 1 ;
X = susan,
Y = nick,
N = 1,
K = 2 ;
X = john,
Y = luke,
N = K, K = 1 ;
X = josh,
Y = luke,
N = 2,
K = 1 ;
X = susan,
Y = luke,
N = 1,
K = 2 ;
X = john,
Y = ali,
N = K, K = 1 ;
X = josh,
Y = ali,
N = 2,
K = 1 ;
X = susan,
Y = ali,
N = 1,
K = 2 ;
X = john,
Y = kelsey,
N = K, K = 1 ;
X = josh,
Y = kelsey,
N = 2,
K = 1 ;
X = susan,
Y = kelsey,
N = 1,
K = 2 ;
X = john,
Y = brandon,
N = K, K = 1 ;
X = josh,
Y = brandon,
N = 2,
K = 1 ;
X = susan,
Y = brandon,
N = 1,
K = 2 ;
X = john,
Y = jarrod,
N = K, K = 1 ;
X = josh,
Y = jarrod,
N = 2,
K = 1 ;
X = susan,
Y = jarrod,
N = 1,
K = 2 ;
X = curt,
Y = jonny,
N = K, K = 1 ;
X = sharon,
Y = jonny,
N = K, K = 1 ;
X = mike,
Y = jonny,
N = K, K = 1 ;
X = jan,
Y = jonny,
N = K, K = 1 ;
X = josh,
Y = jonny,
N = 2,
K = 1 ;
X = susan,
Y = jonny,
N = 1,
K = 2 ;
X = jenna,
Y = kinsley,
N = K, K = 1 ;
X = jessie,
Y = kinsley,
N = K, K = 1 ;
X = nathan,
Y = kinsley,
N = K, K = 1 ;
X = nick,
Y = kinsley,
N = K, K = 1 ;
X = luke,
Y = kinsley,
N = K, K = 1 ;
X = brandon,
Y = kinsley,
N = K, K = 1 ;
X = jarrod,
Y = kinsley,
N = K, K = 1 ;
X = jacob,
Y = kinsley,
N = 3,
K = 1 ;
X = jonny,
Y = kinsley,
N = 2,
K = 1 ;
X = john,
Y = kinsley,
N = 1,
K = 2 ;
X = josh,
Y = kinsley,
N = K, K = 2 ;
X = susan,
Y = kinsley,
N = 1,
K = 3 ;
false.

/* find all kth children of each parent: */
kthchild(C,P,K).

/* results of this query */
C = phyllis,
P = albert,
K = 1 ;
C = mary,
P = albert,
K = 2 ;
C = nathan,
P = curt,
K = 1 ;
C = nick,
P = curt,
K = 2 ;
C = jessie,
P = curt,
K = 3 ;
C = jenna,
P = curt,
K = 4 ;
C = jarrod,
P = jan,
K = 1 ;
C = brandon,
P = jan,
K = 2 ;
C = susan,
P = jennifer,
K = 1 ;
C = jonny,
P = john,
K = 1 ;
C = jacob,
P = josh,
K = 1 ;
C = kinsley,
P = kelsey,
K = 1 ;
C = curt,
P = mary,
K = 1 ;
C = jan,
P = mary,
K = 2 ;
C = mike,
P = mary,
K = 3 ;
C = sharon,
P = mary,
K = 4 ;
C = kelsey,
P = mike,
K = 1 ;
C = ali,
P = mike,
K = 2 ;
C = john,
P = phyllis,
K = 1 ;
C = albert,
P = sandy,
K = 1 ;
C = jennifer,
P = sandy,
K = 2 ;
C = luke,
P = sharon,
K = 1 ;
C = josh,
P = susan,
K = 1.